<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalMarket - Your Community Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #2563eb;
        }
        
        .logo span {
            color: #f97316;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 30px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: #2563eb;
        }
        
        .cart-icon {
            position: relative;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #f97316;
            color: white;
            font-size: 12px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 80px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 60px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 800;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: #f97316;
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #ea580c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* Categories */
        .categories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
        }
        
        .category-btn {
            padding: 10px 20px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .category-btn:hover, .category-btn.active {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
        }
        
        /* Products Section */
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.2rem;
            color: #1e293b;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        
        .discount-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .product-image {
            height: 200px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.05);
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-name {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #1e293b;
        }
        
        .product-description {
            color: #64748b;
            margin-bottom: 15px;
            font-size: 0.9rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .current-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2563eb;
        }
        
        .original-price {
            font-size: 1rem;
            color: #94a3b8;
            text-decoration: line-through;
        }
        
        .view-details-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: #f1f5f9;
            color: #2563eb;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-decoration: none;
        }
        
        .view-details-btn:hover {
            background: #2563eb;
            color: white;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 12px;
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: modalFade 0.3s;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        @keyframes modalFade {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .close-modal {
            font-size: 24px;
            cursor: pointer;
            color: #64748b;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: #333;
        }
        
        .modal-body {
            display: flex;
            flex-direction: column;
            padding: 0;
        }
        
        @media (min-width: 768px) {
            .modal-body {
                flex-direction: row;
            }
        }
        
        .modal-image {
            flex: 1;
            background-color: #e5e7eb;
            min-height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .modal-info {
            flex: 1;
            padding: 30px;
        }
        
        .modal-product-name {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #1e293b;
        }
        
        .modal-product-price {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .modal-current-price {
            font-size: 1.5rem;
            color: #2563eb;
            font-weight: 700;
        }
        
        .modal-original-price {
            font-size: 1.2rem;
            color: #94a3b8;
            text-decoration: line-through;
        }
        
        .modal-product-description {
            color: #64748b;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        
        .modal-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        @media (min-width: 480px) {
            .modal-actions {
                flex-direction: row;
            }
        }
        
        .whatsapp-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #25d366;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: background-color 0.3s;
            flex: 1;
        }
        
        .whatsapp-btn i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .whatsapp-btn:hover {
            background-color: #128c7e;
        }
        
        .visit-shop-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #2563eb;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: background-color 0.3s;
            flex: 1;
            border: none;
            cursor: pointer;
        }
        
        .visit-shop-btn i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .visit-shop-btn:hover {
            background-color: #1e40af;
        }
        
        /* Map Modal */
        .map-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .map-modal-content {
            background-color: white;
            border-radius: 12px;
            max-width: 800px;
            width: 100%;
            padding: 20px;
            position: relative;
        }
        
        .map-container {
            height: 400px;
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        /* Footer */
        footer {
            background-color: #1e293b;
            color: white;
            padding: 50px 0 20px;
            margin-top: 60px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #f8fafc;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-column ul li a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 20px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            nav ul li {
                margin: 5px 10px;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .modal-body {
                flex-direction: column;
            }
            
            .modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Local<span>Market</span></div>
                <nav>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Products</a></li>
                        <li><a href="#">Categories</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#" class="cart-icon"><i class="fas fa-shopping-cart"></i> <span class="cart-count">0</span></a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Your Shop in Every Pocket</h1>
            <p>Discover all our products and services in one place</p>
            <a href="#products" class="btn">Explore Products</a>
        </div>
    </section>

    <!-- Categories -->
    <div class="container">
        <div class="categories">
            <button class="category-btn active" data-category="all">All Products</button>
            <button class="category-btn" data-category="bakery">Bakery</button>
            <button class="category-btn" data-category="produce">Fresh Produce</button>
            <button class="category-btn" data-category="dairy">Dairy</button>
            <button class="category-btn" data-category="meat">Meat & Seafood</button>
            <button class="category-btn" data-category="beverages">Beverages</button>
        </div>
    </div>

    <!-- Products Section -->
    <section id="products">
        <div class="container">
            <h2 class="section-title">Our Products</h2>
            <div class="products-grid">
                <!-- Bakery Items -->
                <div class="product-card" data-product-id="1" data-category="bakery">
                    <div class="discount-badge">10% OFF</div>
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1549931319-a545dcf3bc73?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Artisan Bread">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Artisan Bread</h3>
                        <p class="product-description">Freshly baked sourdough bread made with organic flour and natural fermentation.</p>
                        <div class="product-price">
                            <span class="current-price">$5.99</span>
                            <span class="original-price">$6.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <div class="product-card" data-product-id="2" data-category="bakery">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1571115764595-644a1f56a55c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=700&q=80" alt="Croissants">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Butter Croissants</h3>
                        <p class="product-description">Flaky, buttery croissants made with premium French butter and baked daily.</p>
                        <div class="product-price">
                            <span class="current-price">$3.50</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <!-- Fresh Produce -->
                <div class="product-card" data-product-id="3" data-category="produce">
                    <div class="discount-badge">15% OFF</div>
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1566842600175-97dca3dfc3c7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Organic Vegetables">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Organic Vegetable Box</h3>
                        <p class="product-description">Seasonal selection of locally grown organic vegetables, delivered weekly.</p>
                        <div class="product-price">
                            <span class="current-price">$24.99</span>
                            <span class="original-price">$29.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <div class="product-card" data-product-id="4" data-category="produce">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1619566636858-adf3ef46400b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Fresh Berries">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Fresh Mixed Berries</h3>
                        <p class="product-description">Sweet, juicy strawberries, blueberries, and raspberries from local farms.</p>
                        <div class="product-price">
                            <span class="current-price">$8.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <!-- Dairy -->
                <div class="product-card" data-product-id="5" data-category="dairy">
                    <div class="discount-badge">5% OFF</div>
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1566772940193-9c3ae2938d78?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Farm Fresh Eggs">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Farm Fresh Eggs</h3>
                        <p class="product-description">Free-range eggs from pasture-raised chickens, delivered twice weekly.</p>
                        <div class="product-price">
                            <span class="current-price">$6.49</span>
                            <span class="original-price">$6.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <div class="product-card" data-product-id="6" data-category="dairy">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1566772940193-9c3ae2938d78?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Artisan Cheese">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Artisan Cheese Selection</h3>
                        <p class="product-description">Handcrafted local cheeses including cheddar, gouda, and camembert.</p>
                        <div class="product-price">
                            <span class="current-price">$18.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <!-- Meat & Seafood -->
                <div class="product-card" data-product-id="7" data-category="meat">
                    <div class="discount-badge">12% OFF</div>
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1603052875180-e1e10e5a0b36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Grass-Fed Beef">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Grass-Fed Beef</h3>
                        <p class="product-description">Premium cuts of grass-fed beef, sustainably raised by local farmers.</p>
                        <div class="product-price">
                            <span class="current-price">$15.99/lb</span>
                            <span class="original-price">$18.99/lb</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <div class="product-card" data-product-id="8" data-category="meat">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Fresh Salmon">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Fresh Atlantic Salmon</h3>
                        <p class="product-description">Wild-caught salmon fillets, delivered fresh daily from sustainable fisheries.</p>
                        <div class="product-price">
                            <span class="current-price">$22.99/lb</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <!-- Beverages -->
                <div class="product-card" data-product-id="9" data-category="beverages">
                    <div class="discount-badge">20% OFF</div>
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1554866585-cd94860890b7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=715&q=80" alt="Craft Beer">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Local Craft Beer Pack</h3>
                        <p class="product-description">Assortment of 6 craft beers from local breweries, featuring seasonal selections.</p>
                        <div class="product-price">
                            <span class="current-price">$19.99</span>
                            <span class="original-price">$24.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>

                <div class="product-card" data-product-id="10" data-category="beverages">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1511537190424-bbbab87ac5eb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" alt="Fresh Juice">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Cold-Pressed Juices</h3>
                        <p class="product-description">Fresh cold-pressed juices made daily with organic fruits and vegetables.</p>
                        <div class="product-price">
                            <span class="current-price">$7.99</span>
                        </div>
                        <button class="view-details-btn">View Details</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalProductName"></h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modalProductImage" src="" alt="Product Image">
                </div>
                <div class="modal-info">
                    <h3 id="modalProductName2"></h3>
                    <div class="modal-product-price">
                        <span class="modal-current-price" id="modalCurrentPrice"></span>
                        <span class="modal-original-price" id="modalOriginalPrice"></span>
                    </div>
                    <p class="modal-product-description" id="modalProductDescription"></p>
                    <div class="modal-actions">
                        <a href="#" class="whatsapp-btn" id="whatsappBtn" target="_blank">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </a>
                        <button class="visit-shop-btn" id="visitShopBtn">
                            <i class="fas fa-map-marker-alt"></i> Visit Shop
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Map Modal -->
    <div class="map-modal" id="mapModal">
        <div class="map-modal-content">
            <div class="modal-header">
                <h2>Our Store Location</h2>
                <span class="close-modal" id="closeMapModal">&times;</span>
            </div>
            <p>Visit us at our flagship store in downtown Market Square</p>
            <div class="map-container" id="map"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>LocalMarket</h3>
                    <p>Your neighborhood marketplace for fresh, locally sourced products. Supporting local producers since 2010.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Products</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Market Square, City</li>
                        <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                        <li><i class="fas fa-envelope"></i> info@localmarket.com</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Follow Us</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 LocalMarket. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Product data
        const products = {
            1: {
                name: "Artisan Bread",
                image: "https://images.unsplash.com/photo-1549931319-a545dcf3bc73?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$5.99",
                originalPrice: "$6.99",
                description: "Our signature sourdough bread is made with a 50-year-old starter, organic flour, and a 24-hour fermentation process. This results in a complex flavor profile with a crisp crust and soft, airy interior. Perfect for sandwiches, toast, or simply enjoyed with butter. Each loaf is hand-shaped and baked in a stone hearth oven for an authentic artisan experience. Contains no preservatives or additives."
            },
            2: {
                name: "Butter Croissants",
                image: "https://images.unsplash.com/photo-1571115764595-644a1f56a55c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=700&q=80",
                currentPrice: "$3.50",
                originalPrice: null,
                description: "Our classic French croissants are made with layers of premium French butter and carefully folded dough to create the perfect flaky texture. Each croissant is hand-rolled and proofed for 12 hours to develop its distinctive flavor and airy structure. Baked fresh throughout the day, these croissants are best enjoyed warm from the oven. Pair with your favorite coffee for a perfect breakfast experience."
            },
            3: {
                name: "Organic Vegetable Box",
                image: "https://images.unsplash.com/photo-1566842600175-97dca3dfc3c7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$24.99",
                originalPrice: "$29.99",
                description: "Our weekly organic vegetable box contains a seasonal selection of 8-10 varieties of freshly harvested produce from local organic farms. Each box includes a mix of leafy greens, root vegetables, and seasonal specialties. Contents vary based on what's freshest each week. Comes with recipe suggestions and storage tips. Support local agriculture while enjoying the freshest produce available. Delivery available for an additional fee."
            },
            4: {
                name: "Fresh Mixed Berries",
                image: "https://images.unsplash.com/photo-1619566636858-adf3ef46400b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$8.99",
                originalPrice: null,
                description: "Our mixed berry selection includes the sweetest strawberries, plump blueberries, and tart raspberries sourced from local farms that practice sustainable agriculture. Picked at peak ripeness for maximum flavor and nutritional value. Perfect for snacking, smoothies, desserts, or breakfast toppings. Berries are carefully hand-picked and packaged to minimize damage. Available year-round with seasonal variations in berry combinations."
            },
            5: {
                name: "Farm Fresh Eggs",
                image: "https://images.unsplash.com/photo-1566772940193-9c3ae2938d78?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$6.49",
                originalPrice: "$6.99",
                description: "Our free-range eggs come from happy chickens that roam pastures on local family farms. The hens are fed a natural diet without antibiotics or hormones, resulting in eggs with rich, golden yolks and superior flavor. These eggs contain higher levels of omega-3 fatty acids and vitamins compared to conventional eggs. Available in medium, large, and extra-large sizes. Delivered to our store twice weekly to ensure maximum freshness."
            },
            6: {
                name: "Artisan Cheese Selection",
                image: "https://images.unsplash.com/photo-1566772940193-9c3ae2938d78?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$18.99",
                originalPrice: null,
                description: "Curated selection of handcrafted cheeses from local dairy artisans. Includes a 6-month aged cheddar, creamy gouda, and soft-ripened camembert. Each cheese is made in small batches using traditional methods and high-quality milk from grass-fed cows. Perfect for cheese boards, cooking, or gourmet sandwiches. Selection may vary based on seasonal availability and new arrivals. Comes with tasting notes and pairing suggestions."
            },
            7: {
                name: "Grass-Fed Beef",
                image: "https://images.unsplash.com/photo-1603052875180-e1e10e5a0b36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$15.99/lb",
                originalPrice: "$18.99/lb",
                description: "Our grass-fed beef comes from cattle raised on open pastures without antibiotics or added hormones. The animals are grass-fed and finished, resulting in leaner meat with a richer flavor profile and higher nutritional value. Available as various cuts including ribeye, sirloin, ground beef, and roasting joints. Dry-aged for 21 days to enhance tenderness and flavor. Source-verified from local farms practicing regenerative agriculture."
            },
            8: {
                name: "Fresh Atlantic Salmon",
                image: "https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$22.99/lb",
                originalPrice: null,
                description: "Wild-caught Atlantic salmon fillets sourced from sustainable fisheries. Our salmon is flash-frozen at sea to preserve freshness and flavor. Rich in omega-3 fatty acids, these fillets are perfect for grilling, baking, or pan-searing. Skin-on fillets provide extra flavor during cooking and can be easily removed after if desired. Available as individual portions or whole fillets. Responsibly sourced and certified sustainable."
            },
            9: {
                name: "Local Craft Beer Pack",
                image: "https://images.unsplash.com/photo-1554866585-cd94860890b7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=715&q=80",
                currentPrice: "$19.99",
                originalPrice: "$24.99",
                description: "Curated selection of 6 craft beers from the best local breweries in our region. Includes a variety of styles such as IPA, pale ale, stout, and seasonal specialties. Each beer is chosen for its quality and representation of our local brewing scene. Perfect for exploring new flavors or enjoying with friends. Rotation changes monthly to feature new releases and seasonal offerings. Must be 21+ to purchase."
            },
            10: {
                name: "Cold-Pressed Juices",
                image: "https://images.unsplash.com/photo-1511537190424-bbbab87ac5eb?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",
                currentPrice: "$7.99",
                originalPrice: null,
                description: "Our cold-pressed juices are made daily using a hydraulic press that extracts maximum nutrition and flavor from organic fruits and vegetables. No heat is used in the process, preserving enzymes and vitamins. Available in several flavors including Green Detox (kale, cucumber, apple, lemon), Sunrise (carrot, orange, ginger), and Berry Boost (strawberry, blueberry, apple). Unpasteurized and must be consumed within 3 days of pressing. Packed in reusable glass bottles."
            }
        };

        // Get DOM elements
        const modal = document.getElementById('productModal');
        const mapModal = document.getElementById('mapModal');
        const modalProductName = document.getElementById('modalProductName');
        const modalProductName2 = document.getElementById('modalProductName2');
        const modalProductImage = document.getElementById('modalProductImage');
        const modalCurrentPrice = document.getElementById('modalCurrentPrice');
        const modalOriginalPrice = document.getElementById('modalOriginalPrice');
        const modalProductDescription = document.getElementById('modalProductDescription');
        const whatsappBtn = document.getElementById('whatsappBtn');
        const visitShopBtn = document.getElementById('visitShopBtn');
        const closeModal = document.querySelector('.close-modal');
        const closeMapModal = document.getElementById('closeMapModal');
        const productCards = document.querySelectorAll('.product-card');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const viewDetailsButtons = document.querySelectorAll('.view-details-btn');

        // Initialize map
        let map = null;
        
        // Add click event to view details buttons
        viewDetailsButtons.forEach((button, index) => {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent triggering the card click event
                const productId = index + 1;
                const product = products[productId];
                
                openProductModal(product);
            });
        });
        
        // Add click event to product cards
        productCards.forEach(card => {
            card.addEventListener('click', () => {
                const productId = card.getAttribute('data-product-id');
                const product = products[productId];
                
                openProductModal(product);
            });
        });
        
        // Function to open product modal
        function openProductModal(product) {
            // Update modal content
            modalProductName.textContent = product.name;
            modalProductName2.textContent = product.name;
            modalProductImage.src = product.image;
            modalCurrentPrice.textContent = product.currentPrice;
            
            if (product.originalPrice) {
                modalOriginalPrice.textContent = product.originalPrice;
                modalOriginalPrice.style.display = 'inline';
            } else {
                modalOriginalPrice.style.display = 'none';
            }
            
            modalProductDescription.textContent = product.description;
            
            // Set up WhatsApp button
            const message = `Hello, I saw your product ${product.name} on your website and I want to buy it.`;
            whatsappBtn.href = `https://wa.me/1234567890?text=${encodeURIComponent(message)}`;
            
            // Show modal
            modal.style.display = 'flex';
        }

        // Category filtering
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                const category = button.getAttribute('data-category');
                
                // Update active button
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Filter products
                productCards.forEach(card => {
                    if (category === 'all' || card.getAttribute('data-category') === category) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Close modal when clicking on X
        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });
        
        closeMapModal.addEventListener('click', () => {
            mapModal.style.display = 'none';
        });

        // Close modal when clicking outside of modal content
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
            if (event.target === mapModal) {
                mapModal.style.display = 'none';
            }
        });

        // Visit shop button click handler
        visitShopBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            mapModal.style.display = 'flex';
            
            // Initialize map if not already done
            if (!map) {
                // Small delay to allow modal to display before map initialization
                setTimeout(() => {
                    map = L.map('map').setView([51.505, -0.09], 15);
                    
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                    }).addTo(map);
                    
                    L.marker([51.5, -0.09]).addTo(map)
                        .bindPopup('LocalMarket Store<br>123 Market Square, City')
                        .openPopup();
                }, 100);
            }
        });

        // Add to cart functionality
        let cartCount = 0;
        const cartCountElement = document.querySelector('.cart-count');
        
        // Add click event to all "Add to Cart" buttons
        document.querySelectorAll('.view-details-btn').forEach(button => {
            // We've changed this to view details, but keeping this for any future cart functionality
        });
    </script>
</body>
</html>